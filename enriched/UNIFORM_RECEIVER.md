#receiverTypesMixing #go #golang #methods #receivers #pointers #values #time #immutability #interfaces #compatibility

# –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –≤ Go

```table-of-contents
```

## –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º—ã

–í —è–∑—ã–∫–µ Go —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ç–∏–ø—É (–ø–æ–ª—É—á–∞—Ç–µ–ª—é). –ü–æ–ª—É—á–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–≤—É—Ö –≤–∏–¥–æ–≤: –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é (value receiver) –∏ –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é (pointer receiver). –í–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å: –¥–æ–ø—É—Å—Ç–∏–º–æ –ª–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å–º–µ—à–∏–≤–∞—Ç—å —ç—Ç–∏ –¥–≤–∞ –≤–∏–¥–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π? –¢–æ –µ—Å—Ç—å, –º–æ–≥—É—Ç –ª–∏ –æ–¥–Ω–∏ –º–µ—Ç–æ–¥—ã –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Ç–∏–ø–∞ –∏–º–µ—Ç—å –ø–æ–ª—É—á–∞—Ç–µ–ª—å-–∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –¥—Ä—É–≥–∏–µ ‚Äì –ø–æ–ª—É—á–∞—Ç–µ–ª—å-—É–∫–∞–∑–∞—Ç–µ–ª—å?

## –û–±—â–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

–í —Ü–µ–ª–æ–º, —Å–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–ª–æ—Ö–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ —Ç–∞–∫–æ–µ —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –∫–æ–¥–∞. –û–¥–Ω–∞–∫–æ, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∏ –æ–¥–Ω–∏–º –∏–∑ —è—Ä–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Go, –∞ –∏–º–µ–Ω–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `time.Time`.

## –ü—Ä–∏–º–µ—Ä `time.Time`

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ Go —Å—Ç—Ä–µ–º–∏–ª–∏—Å—å —Å–¥–µ–ª–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `time.Time` –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–π (immutable). –ü–æ—ç—Ç–æ–º—É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤ —ç—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `After`, `IsZero`, `UTC` –∏ –¥—Ä—É–≥–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—å-–∑–Ω–∞—á–µ–Ω–∏–µ. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—ã–∑–æ–≤ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `time.Time`.

–û–¥–Ω–∞–∫–æ, –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `encoding.TextUnmarshaler`, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `time.Time` –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `UnmarshalBinary([]byte) error`. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥, –ø–æ —Å–≤–æ–µ–π —Å—É—Ç–∏, *–∏–∑–º–µ–Ω—è–µ—Ç* –ø–æ–ª—É—á–∞—Ç–µ–ª—å, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–π—Ç–æ–≤–æ–≥–æ —Å—Ä–µ–∑–∞. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, `UnmarshalBinary` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—å-—É–∫–∞–∑–∞—Ç–µ–ª—å.

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, —á—Ç–æ, —Ö–æ—Ç—è —Å–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –≤ —Ü–µ–ª–æ–º –Ω–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è, –æ–Ω–æ –Ω–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö. –ò–Ω–æ–≥–¥–∞ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

## –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

–°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, –∫–∞–∫ —Ç–∏–ø —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤.

**–ü—Ä–∏–º–µ—Ä 1: –°–º–µ—à–∏–≤–∞–Ω–∏–µ –∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**

```go
package main

type IA interface {
	B()
	C()
}

type A struct{}

func (A) B()  {}  // –ú–µ—Ç–æ–¥ B —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º-–∑–Ω–∞—á–µ–Ω–∏–µ–º
func (*A) C() {} // –ú–µ—Ç–æ–¥ C —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º-—É–∫–∞–∑–∞—Ç–µ–ª–µ–º

func main() {
	var a IA
	a = A{} // cannot use A{} (value of type A) as IA value
	_ = a
}
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ, —Ç–∏–ø `A` –∏–º–µ–µ—Ç –¥–≤–∞ –º–µ—Ç–æ–¥–∞: `B` —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º-–∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ `C` —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º-—É–∫–∞–∑–∞—Ç–µ–ª–µ–º. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IA` —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è –æ–±–æ–∏—Ö –º–µ—Ç–æ–¥–æ–≤. –û–¥–Ω–∞–∫–æ, –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `A` –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ `IA`, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `A` –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥ `C` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `IA` (—Ç.–∫. `C` –∏–º–µ–µ—Ç *pointer receiver*). –ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `a` *—É–∫–∞–∑–∞—Ç–µ–ª—å* –Ω–∞ `A`: `a = &A{}`.

**–ü—Ä–∏–º–µ—Ä 2: –í—Å–µ –º–µ—Ç–æ–¥—ã —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º-–∑–Ω–∞—á–µ–Ω–∏–µ–º –∏–ª–∏ –≤—Å–µ —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º-—É–∫–∞–∑–∞—Ç–µ–ª–µ–º**

```go
package main

type IA interface {
	B()
	C()
}

type A struct{}

func (A) B()  {}
func (A) C() {}

type PA struct{}

func (*PA) B() {}
func (*PA) C() {}

func main() {
	var a, pa IA
	a = A{}
	pa = &PA{}
	_ = a
	_ = pa
}
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω—ã –¥–≤–∞ —Ç–∏–ø–∞: `A` (–≤—Å–µ –º–µ—Ç–æ–¥—ã —Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏-–∑–Ω–∞—á–µ–Ω–∏—è–º–∏) –∏ `PA` (–≤—Å–µ –º–µ—Ç–æ–¥—ã —Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏-—É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏). –û–±–∞ —Ç–∏–ø–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IA`. –ó–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `A` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ `IA`, –∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `PA` ‚Äì –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ `IA`.

**–ü—Ä–∏–º–µ—Ä 3: –û–±—Ö–æ–¥ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**
```go
package main

type IA interface {
	C()
}

type IB interface {
	D()
}

type A struct{}

func (A) C()  {}
func (*A) D() {}

func main() {
	var a IA
	a = A{}
	var pb IB
	pb = &A{}
	_ = a
	_ = pa
}
```
–≠—Ç–æ—Ç –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫. –ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ" –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:

*   `IA` —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥ `C()`, –∫–æ—Ç–æ—Ä—ã–π —É —Ç–∏–ø–∞ `A` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º-–∑–Ω–∞—á–µ–Ω–∏–µ–º.
*   `IB` —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥ `D()`, –∫–æ—Ç–æ—Ä—ã–π —É —Ç–∏–ø–∞ `A` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º-—É–∫–∞–∑–∞—Ç–µ–ª–µ–º.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ `A` (–¥–ª—è `IA`), —Ç–∞–∫ –∏ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `A` (–¥–ª—è `IB`), –æ–±—Ö–æ–¥—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å–æ —Å–º–µ—à–∏–≤–∞–Ω–∏–µ–º —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

## –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

**–ü–æ—á–µ–º—É —Å–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –≤ —Ü–µ–ª–æ–º –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è?**

1.  **–ù–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –∏ –ø—É—Ç–∞–Ω–∏—Ü–∞:** –ö–æ–≥–¥–∞ –æ–¥–Ω–∏ –º–µ—Ç–æ–¥—ã –∏–∑–º–µ–Ω—è—é—Ç –æ–±—ä–µ–∫—Ç (pointer receiver), –∞ –¥—Ä—É–≥–∏–µ –Ω–µ—Ç (value receiver), —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ –∏ —É—Å–ª–æ–∂–Ω–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–¥. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–º–Ω–∏—Ç—å, –∫–∞–∫–æ–π —Ç–∏–ø –ø–æ–ª—É—á–∞—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–µ—Ç–æ–¥–µ.

2.  **–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**  –ï—Å–ª–∏ –≤—ã –ø—Ä–∏–≤—ã–∫–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–µ—Ç–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç –æ–±—ä–µ–∫—Ç (value receiver), –≤—ã –º–æ–∂–µ—Ç–µ —Å–ª—É—á–∞–π–Ω–æ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ —Å pointer receiver, –∫–æ—Ç–æ—Ä—ã–π *–∏–∑–º–µ–Ω–∏—Ç* –æ–±—ä–µ–∫—Ç, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º.

3. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∏ –æ—Ç–ª–∞–¥–∫–µ:**  –ö–æ–¥, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–º–µ—à–∞–Ω—ã —Ç–∏–ø—ã –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π, —Å–ª–æ–∂–Ω–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å.

**–ü–æ—á–µ–º—É –≤ `time.Time` —Å–¥–µ–ª–∞–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ?**

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è `time.Time` –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–æ –±–∞–ª–∞–Ω—Å–æ–º –º–µ–∂–¥—É –∂–µ–ª–∞–Ω–∏–µ–º —Å–¥–µ–ª–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–π –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `encoding.TextUnmarshaler`.

*   **–ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å:**  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ value receiver –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–µ—Ç–æ–¥–æ–≤ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ç.–¥.) –Ω–µ –∏–∑–º–µ–Ω—è—Ç –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è.

*   **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**  –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `encoding.TextUnmarshaler` —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è –º–µ—Ç–æ–¥–∞ `UnmarshalBinary`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ *–∏–∑–º–µ–Ω—è–µ—Ç* –æ–±—ä–µ–∫—Ç. –ß—Ç–æ–±—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —ç—Ç–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –º–µ—Ç–æ–¥ `UnmarshalBinary` –≤ `time.Time` –≤—ã–Ω—É–∂–¥–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pointer receiver.

**–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏**

–ü—Ä–∏–º–µ—Ä—ã —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç, –∫–∞–∫ Go –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–∏–ø—ã –∏ –º–µ—Ç–æ–¥—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏.

–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Go ‚Äì —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç. –¢–∏–ø —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –µ—Å–ª–∏ –æ–Ω –∏–º–µ–µ—Ç *–≤—Å–µ* –º–µ—Ç–æ–¥—ã, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ, —Å *—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏* —Ç–∏–ø–∞–º–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π.

*   –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ–±—ä—è–≤–ª–µ–Ω —Å value receiver, —Ç–æ —Ç–∏–ø –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å value receiver.
*   –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ–±—ä—è–≤–ª–µ–Ω —Å pointer receiver, —Ç–æ —Ç–∏–ø –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å pointer receiver.

–í –ø–µ—Ä–≤–æ–º –ø—Ä–∏–º–µ—Ä–µ (`a = A{}`) –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `A` –Ω–µ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥–∞ `C` —Å *pointer receiver*.  –° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `IA`, —É –∑–Ω–∞—á–µ–Ω–∏—è `A` –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç –º–µ—Ç–æ–¥–∞ `C`. –û–¥–Ω–∞–∫–æ, *—É–∫–∞–∑–∞—Ç–µ–ª—å* –Ω–∞ `A` (`&A{}`) –∏–º–µ–µ—Ç –æ–±–∞ –º–µ—Ç–æ–¥–∞: `B` (—É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è `A`) –∏ `C` (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª—è).

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (value receiver –∏ pointer receiver) –≤ Go ‚Äì —ç—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–æ—Ç–æ—Ä–æ–π —Å–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏). –•–æ—Ç—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–∫–æ–µ —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∫–æ–¥–∞. –ü—Ä–∏–º–µ—Ä `time.Time` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∏–Ω–æ–≥–¥–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–ø—Ä–∞–≤–¥–∞–Ω—ã, –Ω–æ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–¥—É–º–∞–Ω—ã –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω—ã. –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ —Ç–∏–ø –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π, —á—Ç–æ–±—ã —Å—á–∏—Ç–∞—Ç—å—Å—è —Ä–µ–∞–ª–∏–∑—É—é—â–∏–º —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

```old
**–°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π**

–ú–æ–∂–Ω–æ –ª–∏ —Å–º–µ—à–∏–≤–∞—Ç—å —Ç–∏–ø—ã –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –Ω–µ- —Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤, –≥–¥–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è, –∞ –¥—Ä—É–≥–∏–µ ‚Äî –ø–æ- –ª—É—á–∞—Ç–µ–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è? –û–±—â–µ–µ –º–Ω–µ–Ω–∏–µ —Ç–∞–∫–æ–≤–æ, —á—Ç–æ —ç—Ç–æ —Å–ª–µ–¥—É–µ—Ç –∑–∞–ø—Ä–µ—Ç–∏—Ç—å. –ù–æ –≤ —Å—Ç–∞–Ω- –¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –µ—Å—Ç—å –∫–æ–Ω—Ç—Ä–ø—Ä–∏–º–µ—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä time.Time.

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ö–æ—Ç–µ–ª–∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã time.Time. –°–ª–µ- –¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ After, IsZero –∏ UTC, –∏–º–µ—é—Ç –ø–æ–ª—É- —á–∞—Ç–µ–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è. –ù–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ ‚Äî encoding.TextUnmarshaler ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ time.Time –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ UnmarshalBinary([]byte)error, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–º–µ–Ω—è–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—å, –∑–∞–¥–∞–≤–∞–µ–º—ã–π –±–∞–π—Ç–æ–≤—ã–º —Å—Ä–µ–∑–æ–º. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏–º–µ–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—å —É–∫–∞–∑–∞—Ç–µ–ª—è.

–í —Ü–µ–ª–æ–º —Å–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å —Å–º–µ—à–∏–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π, –Ω–æ —ç—Ç–æ –Ω–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –≤ 100 % —Å–ª—É—á–∞–µ–≤.

\`\`\`go
package main

type IA interface {
	B()
	C()
}

type A struct{}

func (A) B()  {}
func (*A) C() {}

func main() {
	var a IA
	a = A{} // cannot use A{} (value of type A) as IA value
	_ = a
}
\`\`\`

–ï—Å–ª–∏ –±—É–¥–µ—à—å —Å–º–µ—à–∏–≤–∞—Ç—å –ø—Ä–∏—ë–º–Ω–∏–∫–∏, —Ç–æ —Ç–∞–∫ –Ω–µ —Å–¥–µ–ª–∞–µ—à—å:

\`\`\`go
package main

type IA interface {
	B()
	C()
}

type A struct{}

func (A) B()  {}
func (A) C() {}

type PA struct{}

func (*PA) B() {}
func (*PA) C() {}

func main() {
	var a, pa IA
	a = A{}
	pa = &PA{}
	_ = a
	_ = pa
}
\`\`\`

–•–æ—Ç—è –º–æ–∂–Ω–æ –æ–±–º–∞–Ω—É—Ç—å —Å—É–¥—å–±—É —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ üôÉ

\`\`\`go
package main

type IA interface {
	C()
}

type IB interface {
	D()
}

type A struct{}

func (A) C()  {}
func (*A) D() {}

func main() {
	var a IA
	a = A{}
	var pb IB
	pb = &A{}
	_ = a
	_ = pb
}
\`\`\`

```